<h1 class="mb-8 text-2xl">Property Directory</h1>
<div class="flex flex-row">
  <form [formGroup]="searchForm" (ngSubmit)="search()" class="flex gap-4">
    <input
      pInputText
      id="propertyName"
      class="w-[240px]"
      placeholder="Search by Property Name"
      formControlName="propertyName"
    />
    <input pInputText id="status" class="" placeholder="Search by Status" formControlName="status" />
    <p-button type="submit" label="Search" severity="primary" />
    <p-button label="Reset" severity="primary" variant="outlined" />
  </form>
</div>
<div class="mt-6">
  <p-table
    [value]="propertyDirectories"
    [tableStyle]="{ 'min-width': '50rem' }"
    stripedRows
    class="border-t border-gray-200"
    rowHover
  >
    <ng-template #header>
      <tr>
        <th class="bg-gray-200">Registered Date</th>
        <th class="bg-gray-200">Name of Applicant</th>
        <th class="bg-gray-200">Applicant Type</th>
        <th class="bg-gray-200">Email Address</th>
        <th class="bg-gray-200">Mobile Number</th>
        <th class="bg-gray-200">Status</th>
        <th class="bg-gray-200">Action</th>
      </tr>
    </ng-template>
    <ng-template #body let-row>
      <tr>
        <td>{{ row.registeredDate | date: 'yyyy-MM-dd' }}</td>
        <td>{{ row.applicantName }}</td>
        <td>{{ row.applicantType }}</td>
        <td>{{ row.email }}</td>
        <td>{{ row.mobileNumber }}</td>
        <td>{{ row.status }}</td>
        <td>
          <p-button *ngIf="row.status === 'APPROVED'" icon="pi pi-check" [rounded]="true" [text]="true" />
          <p-button
            *ngIf="row.status === 'NEW'"
            icon="pi pi-eye"
            [rounded]="true"
            [text]="true"
            [routerLink]="'/property-directory/1'"
          />
          <p-button *ngIf="row.status === 'NEW'" icon="pi pi-pencil" [rounded]="true" [text]="true" />
        </td>
      </tr>
    </ng-template>
  </p-table>

  <div class="card flex justify-center">
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [first]="pageIndex * itemsPerPage"
      [rows]="itemsPerPage"
      [totalRecords]="totalItems"
      [rowsPerPageOptions]="[10, 20, 30]"
    />
  </div>
</div>
